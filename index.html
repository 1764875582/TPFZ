gg.alert("å½“å‰è¾…åŠ©æ­£åœ¨åœæœæ›´æ–°ï¼Œç›®æµ‹8.14æ™šä¸Š20ç‚¹æ¢å¤ï¼Œæ„Ÿè°¢ä½ ä»¬ä¸€è·¯æ”¯æŒï¼Œæ‰èƒ½èµ°åˆ°ä»Šå¤©")
gg.alert("æ¬§è€¶ï¼Œåˆ°æ—¶å€™æˆ‘ä»¬ç›¸è§")
gg.alert("å¯ä»¥å¬ä¸€ä¸‹éŸ³ä¹å“¦ï¼Œä¸ºäº†ä¸å½±å“ä½ ä½¿ç”¨ï¼Œå¯ä»¥åˆ‡æ¢è¾…åŠ©")

function Main()
SJ = os.date("åŒ—äº¬æ—¶é—´:%Yå¹´%mæœˆ%dæ—¥%Hæ—¶%Måˆ†%Sç§’")
menu = gg.choice({
	 "åˆ‡æ¢è¾…åŠ©",
	 "å¬éŸ³ä¹",
	 "é€€å‡ºè¾…åŠ©",
}, nil, "1.å¯èƒ½æ˜¯åœæœæ›´æ–°\n"..SJ.."\nç‚¹å–æ¶ˆæ²¡æ•ˆæœæ­£å¸¸\n2.æ­£åœ¨åœæœç»´æŠ¤")
if menu == 1 then WH() end
if menu == 2 then Main6() end
if menu == 3 then Exit() end
FX1=0
end


function WH()
SN = gg.choice({
	 "ğŸ’XE6.1ğŸ’",
	 "ğŸ’å‡‰æƒ…ğŸ’",
}, nil, "ğŸŒ¸å¯ä»¥è¿çº¿å¯¹æ¥åˆ°è¿™äº›è„šæœ¬ã€‚ğŸŒ¸")
if SN==1 then
     XENB()
end
	 
if SN==3 then
	 LQNB()	 	 
end
FX=0
end

function XENB()
 pcall(load(gg.makeRequest("http://zl.lnlcup.cn/a/1627196226.lua").content))
 end
function LQNB()
 pcall(load(gg.makeRequest("http://zl.lnlcup.cn/a/1627441225.lua").content))
end


--[=[
         
 -- []æµ‹è¯•
 
 
 --]]
     
]=]
local g = {}
g.file = gg.getFile()
g.sel = nil
gqlb={"è¯·å…ˆæœç´¢æ­Œæ›²",}
idb={"1010"}
SN,gc=1,nil
g.config = gg.getFile():gsub("%lua$", "").."cfg"
function bei()
g.data = loadfile(g.config)
if g.data ~= nil then
g.sel = g.data()
g.data = nil
end
if g.sel == nil then
g.sel = {"Poker Face","100"}
end
end
bei()
------
--æœç´¢æ­Œæ›²
function start(name,sl)
fw=gg.makeRequest("http://music.163.com/api/search/get?s="..name.."&type=1&offset=0&total=true&limit="..sl)
return fw
end
-----
--æ­Œè¯

--æ’­æ”¾éŸ³ä¹
function play(id,name)
gg.toast("æ­£åœ¨æ’­æ”¾éŸ³ä¹ï¼š"..name,true)
gg.playMusic("http://music.163.com/song/media/outer/url?id="..id..".mp3")
end
--åœæ­¢æ’­æ”¾
function stop()
gg.toast("æ­£åœ¨åœæ­¢éŸ³ä¹")
for i=1,100 do
gg.playMusic("stop")
gg.playMusic("stop")
gg.playMusic("stop")
end
end
----
function Play(gqlb,idb)
SN = gg.choice(gqlb,nil,ts)
if SN == nil then XGCK =-1 else
sn=gg.choice({"æ’­æ”¾"},nil,"æ­Œæ›²ï¼š"..gqlb[SN])
if sn == nil then end
if sn == 1 then
play(idb[SN],gqlb[SN])
end
XGCK=-1
end
end
function zjson(jsonr)
local str = jsonr
-- åŒ¹é…Json Keyçš„æ­£åˆ™è¡¨è¾¾å¼
local pattern = "\"[%w]+\":"
string.gsub(str, pattern, function(v)
    if string.find(str, v) then
        str = string.gsub(str, v, string.gsub(v, "\"", ""))
    end
end)
str = string.gsub(str, ":", "=")
str = string.gsub(str, "%[", "{")
str = string.gsub(str, "%]", "}")
local data = "return " .. str
local res = load(data)()
return res
end


function json(con)
res=zjson(con)
zd=res.result.songCount
pd=go3-zd
if pd <= 0 then else go3=zd end
ts="ã€Š"..go1.."ã€‹æ‰¾åˆ°"..zd.."é¦–æ­Œæ›²ï¼Œå½“å‰æ˜¾ç¤º"..go3.."é¦–"
gqlb={}
idb={}
for i=1,go3 do
gqlb[i]=res.result.songs[i].name
idb[i]=res.result.songs[i].id
end
--print(idb)
end
function YY998() Obtain=gg.makeRequest("https://api.uomg.com/api/rand.music?sort=çƒ­æ­Œæ¦œ&format=json").content muchen=Obtain:match('url":"(.-)","picurl') gg.playMusic(muchen) end 
--ä¸»é¡µ

function Main6()  SN = gg.choice({
   "ğŸ’æœç´¢æ­Œæ›²ğŸ’",
   "ğŸ’æœç´¢åˆ—è¡¨ğŸ’",
   "ğŸ’æ’­æ”¾çƒ­æ­ŒğŸ’",
   "ğŸ’ï¸åœæ­¢æ’­æ”¾ğŸ’",
   "ğŸ’ï¸æ¸…é™¤å†»ç»“ğŸ’",
   "ğŸŒ¸è¿”å›ä¸»é¡µï¸ğŸŒ¸",
},2018,os.date("ğŸŒ¸æœç´¢å’Œæ’­æ”¾æ­Œæ›²ã€‚ğŸŒ¸"))
if SN==1 then s1() end
if SN==2 then Play(gqlb,idb) end
if SN==3 then YY998() end
if SN==4 then stop() end
if SN==5 then Main11() end
if SN==6 then Main() end
XGCK=-7
end

---
function s1()
search = gg.prompt({
"è¾“å…¥è¦æœç´¢çš„æ­Œæ›²\nå¯åŠ ä¸Šæ­Œæ‰‹åå­—",
"è®¾ç½®æ˜¾ç¤ºæ•°é‡(æ•°å­—)",
},g.sel,{
"text",
})
if search == nil then Main6() end
gg.saveVariable(search,g.config)
bei()
go1=search[1]
go3=search[2]
jg=start(go1,go3)
if jg.code == 200 then
fh=jg.content
fh=json(fh)
--print(fh)
Play(gqlb,idb)
else
function inspect()
gg.alert("è®¿é—®ç½‘ç»œå¼‚å¸¸ï¼Œé”™è¯¯ä»£ç ï¼š\n\n"..jg.code)
end
if not pcall(inspect) then print("ç½‘ç»œå¼‚å¸¸ï¼Œè¯·å…ˆè¿æ¥ä¸Šç½‘ç»œ") os.exit() end
end
XGCK=-1
end

---
function s1()
search = gg.prompt({
"è¾“å…¥è¦æœç´¢çš„æ­Œæ›²\nå¯åŠ ä¸Šæ­Œæ‰‹åå­—",
"è®¾ç½®æ˜¾ç¤ºæ•°é‡(æ•°å­—)",
},g.sel,{
"text",
})
if search == nil then Main6() end
gg.saveVariable(search,g.config)
bei()
go1=search[1]
go3=search[2]
jg=start(go1,go3)
if jg.code == 200 then
fh=jg.content
fh=json(fh)
--print(fh)
Play(gqlb,idb)
else
function inspect()
gg.alert("è®¿é—®ç½‘ç»œå¼‚å¸¸ï¼Œé”™è¯¯ä»£ç ï¼š\n\n"..jg.code)
end
if not pcall(inspect) then print("ç½‘ç»œå¼‚å¸¸ï¼Œè¯·å…ˆè¿æ¥ä¸Šç½‘ç»œ") os.exit() end
end
XGCK=-1
end









function Exit()
  print("é•¿é£ç ´æµªä¼šæœ‰æ—¶ï¼Œç›´æŒ‚äº‘å¸†æµæ²§æµ·ã€‚ -ï¼»å”ï¼½ æç™½")
  os.exit()
end







cs = ''
while(true)do
  if gg.isVisible(true) then
    XGCK=1
    gg.setVisible(false)
  end
  gg.clearResults()
  if XGCK==1 then
    Main()
  end
end

